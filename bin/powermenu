#!/bin/bash
alias smallrofi="rofi -theme-str 'window {width: 25%;}'"

option=$(smallrofi -dmenu -l 5 -p 'Power Menu' << 'EOF'
 Shutdown
 Reboot
 Sleep
 Lock
 Logout 
EOF
)

if [ -z $option ]; then exit 1; fi
case $XDG_SESSION_DESKTOP in
    i3) logout="i3-msg exit";;
    sway) logout="swaymsg exit";;
    *) logout="pkill $XDG_SESSION_DESKTOP";;
esac

sure=$(smallrofi -dmenu -l 2 -p "Are you sure?" << 'EOF'
yes
no 
EOF
)

if [ "$sure" != "yes" ]; then exit 1; fi

case $option in
	\ Shutdown) sudo shutdown now;;
	\ Reboot) sudo reboot;;
	\ Sleep) systemctl suspend;;
	\ Lock) swaylock ;;
	\ Logout) $logout;; 
esac
